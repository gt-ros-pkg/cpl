#!/bin/bash

#MPL_LD_SPL_LD
rosparam set /prob_percept_screw 0.0
rosparam set /add_hand_off 0.0
rosparam set /add_duration 0.0

for i in {1..2}
do

for j in {1..3}
do

for k in {1..3}
do

   echo "Noise $i, simulation case $j, trial $k"

        sleep 5

	rosrun project_simulation fix_tf.py &
	PID1=$!

	rosrun project_simulation ar_markers_publish.py &
	PID2=$!

	rosrun project_simulation robo_sim_listen.py &
	PID3=$!

	rosrun airplane_assembly_inference_0313 inference_from_matlab.py &
	PID4=$!

	rosrun airplane_assembly_inference_0313 planning_from_matlab.py &
	PID5=$!

    sleep 1
    if [ $j -eq 1 ]; then
        echo "No perceptual, no durational"
        rosrun project_simulation hands_sim linear_chain_robot n $k
    elif [ $j -eq 2 ]; then
        echo "No perceptual, high durational"
        rosrun project_simulation hands_sim linear_chain_robot_dur n $k
    elif [ $j -eq 3 ]; then
        echo "High perceptual, no durational"
        rosrun project_simulation hands_sim linear_chain_robot_miss n $k
    else
        echo "High perceptual, high durational"
        rosrun project_simulation hands_sim linear_chain_10 n $k
    fi
    sleep 5

	kill $PID1
 	kill $PID2
	kill $PID3
	kill $PID4
	kill $PID5

	echo END

    sleep 5

done

done

done
